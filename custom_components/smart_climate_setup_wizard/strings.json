{
  "config": {
    "step": {
      "user": {
        "title": "Smart Climate Control Setup - Checking Configuration",
        "description": "Checking your Home Assistant configuration...\n\nThe wizard will automatically configure packages support if needed."
      },
      "packages_added": {
        "title": "✅ Packages Configuration Added",
        "description": "**Packages support has been added to your configuration.yaml!**\n\nThe following line was added:\n```yaml\nhomeassistant:\n  packages: !include_dir_named packages\n```\n\n**Next Step:** Please restart Home Assistant, then run this wizard again to create your climate control setup."
      },
      "blueprint_installed": {
        "title": "✅ Blueprint Installed Successfully",
        "description": "**The Ultimate Climate Control blueprint has been downloaded and installed!**\n\n📥 Downloaded from GitHub\n✅ Saved to your blueprints directory\n✅ Registered with Home Assistant\n\n**What's Next:**\nClick Submit to continue with room setup.\n\n**Note:** The blueprint is now available in Settings → Automations & Scenes → Blueprints if you want to view it!"
      },
      "room_name": {
        "title": "Smart Climate Control Setup (Step 1 of 6)",
        "description": "Welcome to the **2-Minute Smart Climate Control Setup!** 🚀\n\n**What makes this special:**\n✨ Just answer 2 temperature questions - everything else is automatic!\n✨ Blueprint calculates all 6 temperature tiers for you\n✨ Stall detection, escalation, hysteresis - all configured optimally\n✨ Works perfectly out of the box for 90% of users\n\n**What will be created:**\n• 13 helper entities (automatic tracking)\n• Complete blueprint automation (fully configured)\n• Dashboard control card (optional)\n• Production-ready climate control system\n\n**Let's get started!**\n\nEnter the room name you want to control:",
        "data": {
          "room_name": "Room Name (e.g., Living Room, Bedroom, Office)"
        }
      },
      "features": {
        "title": "Select Features (Step 2 of 6)",
        "description": "Choose which features to enable for **{room_name}**.\n\n**All features are recommended for best performance!**\n\nThese determine which helper entities will be created and which automation features will be available.",
        "data": {
          "enable_dynamic_adaptation": "✅ Dynamic Adaptation (effectiveness tracking, power escalation)",
          "enable_manual_override": "✅ Manual Override Detection (detects manual AC changes)",
          "enable_control_mode": "✅ Control Mode Selection (Auto/Smart/Manual switching)",
          "enable_smart_mode": "✅ Smart Mode (presence detection and timeout logic)"
        }
      },
      "climate_entities": {
        "title": "Select Climate Entities (Step 3 of 6)",
        "description": "Select the A/C unit(s) for **{room_name}**.\n\nYou can select multiple A/C units if your room has more than one.\n\n**Tip:** If you don't see your A/C, make sure it's properly integrated in Home Assistant first.",
        "data": {
          "climate_entities": "A/C Units (select one or more)"
        }
      },
      "ac_configuration": {
        "title": "AC Temperature Limits (Step 3.5 of 6) - Optional",
        "description": "**Configure AC temperature limits for {room_name}** (optional - only if your AC reports incorrect values).\n\n**Your AC reports:**\n• Minimum: {reported_min}°C\n• Maximum: {reported_max}°C\n\n**⚠️ Only configure if these are INCORRECT!**\n\n**Example problems:**\n• AC reports 7°C minimum but physically can't go below 18°C\n• AC reports 35°C maximum but physically can't go above 30°C\n\n**Leave at 0 (default):**\nUse the values reported by your AC integration (recommended for most users)\n\n**Set to actual values:**\nOverride with your AC's real physical limits to prevent impossible temperature settings during aggressive cooling/heating.\n\n**Why this matters:**\nDynamic targeting may try to set your AC to impossible temperatures (e.g., 12°C when minimum is 18°C), which wastes energy and prevents proper operation.",
        "data": {
          "ac_minimum_temp": "AC Minimum Temperature Override (0 = use reported {reported_min}°C)",
          "ac_maximum_temp": "AC Maximum Temperature Override (0 = use reported {reported_max}°C)"
        }
      },
      "sensors": {
        "title": "Select Sensors (Step 4 of 6)",
        "description": "Configure optional sensors for **{room_name}**.\n\n**All sensors are optional but recommended for best accuracy!**\n\n**Temperature Sensor:** External thermometer for more accurate readings\n\n**Room Presence Sensors:** Add your BLE sensors (e.g., sensor.phone_ble_area), motion sensors (PIR), mmWave sensors, or any occupancy detection sensors.\n\n**🛏️ For Bedrooms:** Include bed occupancy sensors (e.g., binary_sensor.bed_occupancy) for sleep detection! You can select multiple sensors for better accuracy.",
        "data": {
          "temperature_sensor": "Temperature Sensor (optional)",
          "room_presence_sensors": "Room Presence Sensors - BLE, Motion, mmWave, Bed Sensor, etc. (optional, multiple)"
        }
      },
      "presence_detection": {
        "title": "Home/Away Detection (Step 4.5 of 6)",
        "description": "**Configure home/away presence detection for {room_name}.**\n\n**Person Entities (Recommended):**\nSelect people to track for home/away detection and proximity-based pre-conditioning.\n\n**Why add these even if you have room sensors?**\n• ✅ Enables Auto mode as fallback option\n• ✅ Allows switching between Smart and Auto modes\n• ✅ Provides house-wide automation when needed\n\n**Presence Devices (Optional):**\nAdditional devices that indicate someone is home (PC power, TV, gaming console, etc.)\n\n**🎯 Smart Mode Selection:**\n• **With room sensors** → Defaults to Smart mode (room-specific)\n• **Without room sensors** → Defaults to Auto mode (house-wide)\n• **Both available** → You can switch modes anytime!",
        "data": {
          "presence_persons": "Person Entities (for home/away detection)",
          "presence_devices": "Presence Devices - PC, TV, Workstation, etc. (optional)"
        }
      },
      "proximity_detection": {
        "title": "🏠 Proximity Pre-Conditioning (Step 4.6 of 6)",
        "description": "**Start cooling/heating BEFORE you arrive home!**\n\n**How it works:**\n• 🚗 Tracks your location via GPS (phone)\n• 🎯 Detects when heading towards home\n• ❄️ Starts conditioning when within range\n• ✨ Room is comfortable when you arrive\n\n**Setup Status:** {home_zone_status}\n\n**Setup Requirements:**\n1. **Home zone** (Settings → Areas → Zones → Create \"Home\" zone)\n2. **Proximity integration** (Settings → Integrations → Add → Proximity)\n   - Select \"home\" zone\n   - Select person entities to track\n3. **Phone GPS enabled** (Home Assistant Companion App)\n\n**Don't have Proximity setup?**\nLeave unchecked - you can enable this later by editing the blueprint manually.\n\n**Already have Proximity?**\nCheck the box below and select your sensors!",
        "data": {
          "enable_proximity": "✅ Enable proximity-based pre-conditioning (requires Proximity integration)",
          "proximity_sensor": "📏 Distance Sensor • Shows how far you are from home • Usually sensor.home_nearest_distance",
          "direction_sensor": "🧭 Direction Sensor • Shows if heading towards/away • Usually sensor.home_nearest_direction_of_travel",
          "home_zone_distance": "🎯 Activation Distance (meters)\nHow far from home to start • 5000m = 5km"
        }
      },
      "bedroom_mode": {
        "title": "Bedroom Configuration (Step 5 of 6)",
        "description": "Is **{room_name}** a bedroom with a bed occupancy sensor?\n\n**🛏️ BEDROOM Mode Benefits:**\n• Detects presence when sleeping (bed sensor)\n• Detects presence when awake (motion sensor)\n• Prevents false positives (phone left behind)\n• Works with any sensor combination\n\n**Select YES if:**\n• This is a bedroom\n• You added a bed occupancy sensor above\n• You want the AC to stay on while sleeping\n\n**Select NO for:**\n• Living rooms, offices, other areas\n• Bedrooms without bed sensors",
        "data": {
          "is_bedroom_with_bed_sensor": "Enable BEDROOM mode? (Adaptive sleep detection)"
        }
      },
      "temperature": {
        "title": "Temperature Preferences (Step 6 of 6)",
        "description": "**Just 2 simple questions!** 🌡️ The wizard automatically calculates ALL temperature thresholds for **{room_name}**.\n\n**Choose your comfort style:**\n• **Tight** (±0.5°C): Precise control, 20+ AC cycles/day\n• **Balanced** (±1.0°C): ⭐ Recommended, 10-15 cycles/day\n• **Relaxed** (±1.5°C): Energy saving, 5-10 cycles/day\n\n**Example:** 23°C ± 1.0°C means:\n• Comfort zone: 22.0°C - 24.0°C (AC off)\n• Gentle cooling starts: 24.1°C\n• Medium cooling starts: 25.0°C\n• Max cooling starts: 26.0°C\n• *(Heating thresholds calculated similarly)*\n\n**What happens next:**\n✅ All 6 temperature tiers calculated automatically\n✅ Stall detection configured optimally\n✅ Dynamic escalation/de-escalation enabled\n✅ Ready to use immediately!",
        "data": {
          "temperature_preset": "⚙️ Preset (or choose Custom below)",
          "target_temperature": "🎯 What's your ideal comfort temperature?",
          "comfort_zone_width": "🌡️ Comfort zone width • 0.5°C=Tight • 1.0°C=Balanced ⭐ • 1.5°C=Relaxed",
          "enable_heating": "Enable Heating Mode",
          "enable_cooling": "Enable Cooling Mode"
        }
      },
      "behavior_settings": {
        "title": "⚙️ Behavior & Notifications (Step 5.5 of 6)",
        "description": "**Configure how your climate control behaves in different situations** for **{room_name}**.\n\n**These settings control:**\n• What happens when everyone leaves home\n• What happens when the room is empty (but you're still home)\n• What happens when temperature stabilizes\n• Whether eco mode is used in the comfort zone\n• Whether you receive push notifications\n\n**Don't worry!** You can always change these later in the automation settings.",
        "data": {
          "away_mode_action": "🏠 Away Mode Action • What to do when everyone leaves home",
          "smart_mode_behavior": "🚪 Room Absence Behavior • What to do when room is empty",
          "stability_behavior": "📊 Temperature Stability Action • What to do when temp is stable",
          "enable_eco_mode": "💚 Enable Eco Mode • Use eco mode when in comfort zone",
          "enable_notifications": "🔔 Enable Notifications • Push notifications for climate changes"
        }
      },
      "advanced_escalation": {
        "title": "🚨 Advanced Escalation (Step 5.6 of 6) - Optional Feature",
        "description": "**NEW FEATURE: Incremental Wrong-Direction Escalation** ✨\n\n**What it does:**\nAutomatically adds escalation levels when temperature moves the **WRONG way** - rising during cooling or falling during heating.\n\n**Perfect for:**\n• 🎮 Gaming rooms (PCs generating variable heat)\n• 🍳 Kitchen areas (cooking heat spikes)\n• ☀️ Rooms with sun exposure\n• 👥 High-occupancy rooms (variable people count)\n\n**How it works (Incremental Per-Check System):**\n```\nTime 0: AC starts → Fan 1 (Base Level 0)\nTime 2: Temp rising → Fan 2 (Level 0 + 1 for wrong direction)\nTime 4: Still rising → Fan 3 (Level 0 + 2 for wrong direction)\nTime 6: Still rising → Fan 4 (Level 0 + 3 for wrong direction)\nTime 8: Still rising → Fan 5 (Level 0 + 4, capped at maximum)\n```\n\n**Key advantages:**\n• ✅ Responds at EVERY effectiveness check (e.g., every 2 minutes)\n• ✅ Smooth gradual escalation instead of sudden jumps\n• ✅ Self-correcting (stops when temp stabilizes)\n• ✅ Simpler to configure (just 2 settings!)\n\n**Safe by default:**\n• ❌ **Disabled** by default (won't affect your automation)\n• ✅ **Enable only if** you have variable heat loads\n• 🎯 Starts responding at first effectiveness check (no delays)\n\n**Settings explanation:**\n• **Enable:** Turn feature ON/OFF\n• **Escalation Per Check:** How many levels to add each check (+1 recommended)\n\n💡 **Recommendation for gaming rooms:** Enable with +1 per check for smooth, responsive escalation!",
        "data": {
          "enable_wrong_direction_escalation": "🚨 Enable Incremental Wrong-Direction Escalation • Smooth power ramp-up",
          "wrong_direction_escalation_per_check": "⚡ Escalation Per Check • +Levels to add each check (0-2)"
        }
      },
      "compressor_protection": {
        "title": "🛡️ Compressor Protection (Step 5.8 of 6)",
        "description": "**Protect your A/C compressor from rapid cycling damage** for **{room_name}**.\n\n**Why this matters:**\n• 🔧 AC compressors need 3-5 minutes for refrigerant pressure to equalize\n• ⚡ Rapid on/off cycling causes mechanical stress and shortens lifespan\n• 💰 Modern units (2015+) often have built-in 3-5 min delay timers\n\n**Minimum Runtime:**\n• How long AC must RUN before changing cooling/heating intensity\n• Example: 15 min = prevents rapid tier switching\n• **Recommended:** 15 minutes for standard units\n\n**Minimum Off-Time:**\n• How long AC must be OFF before restarting\n• Example: 10 min = protects compressor from rapid restarts\n• **Recommended:** 10 minutes (or 3 minutes if AC has built-in protection)\n\n**Enforce Off-Time Protection:**\n• ✅ **ON (Recommended):** Blueprint enforces minimum off-time delay\n• ❌ **OFF:** Allows immediate restart (use if AC has hardware protection)\n\n**When to disable enforcement:**\n• Your AC is modern (2015+) with built-in delay timer\n• You want to rely on AC hardware protection only\n• Testing/debugging automation behavior",
        "data": {
          "min_runtime_minutes": "⏱️ Minimum Runtime • How long AC must run before intensity changes",
          "min_off_time_minutes": "⏸️ Minimum Off-Time • How long AC must wait before restart",
          "enforce_off_time_protection": "🛡️ Enforce Off-Time Protection • Blueprint enforces restart delay"
        }
      }
    },
    "error": {
      "create_failed": "Failed to create helper entities. Check logs for details.",
      "creation_failed": "Failed to create climate control setup. Check logs for details.",
      "no_climate_entities": "Please select at least one A/C unit.",
      "invalid_climate_entities": "Invalid A/C unit selection. Please select valid climate entities.",
      "sensor_not_found": "One or more selected sensors are not available in Home Assistant. Please select valid sensors or remove unavailable ones.",
      "person_not_found": "One or more selected person entities are not available in Home Assistant. Please select valid person entities or remove unavailable ones.",
      "device_not_found": "One or more selected presence devices are not available in Home Assistant. Please select valid devices or remove unavailable ones.",
      "proximity_sensor_not_found": "The selected proximity distance sensor is not available in Home Assistant. Please check that the Proximity integration is set up correctly.",
      "direction_sensor_not_found": "The selected direction sensor is not available in Home Assistant. Please check that the Proximity integration is set up correctly.",
      "home_zone_not_found": "⚠️ Home zone is not configured in Home Assistant. Proximity-based pre-conditioning requires a 'Home' zone to work.\n\n**To create the Home zone:**\n1. Go to Settings → Areas, labels & zones → Zones\n2. Click 'Add Zone'\n3. Name it 'Home'\n4. Set your home location on the map\n5. Save and run this wizard again\n\n**Or:** Uncheck the proximity option and continue without this feature.",
      "climate_entities_in_use": "⚠️ One or more of these A/C units are already being controlled by another room's automation. Each A/C unit can only be controlled by one automation at a time.\n\nAlready in use by: {conflicting_rooms}\n\nPlease either:\n• Select different A/C units\n• Delete the conflicting room's setup first\n• Use the same A/C for multiple rooms (not recommended)"
    },
    "abort": {
      "already_configured": "Climate control for this room already exists.",
      "no_climate_entities": "No climate entities found in Home Assistant. Please add A/C integrations first.",
      "packages_configured": "Packages configuration has been added to configuration.yaml. Please restart Home Assistant, then run this wizard again to create your climate control setup.",
      "blueprint_download_failed": "**⚠️ Blueprint Installation Required**\n\nThe wizard couldn't automatically download the blueprint from GitHub.\n\n**Please install it manually:**\n\n**Option 1: Quick Import (Recommended)**\nClick this link to import:\n{import_link}\n\n**Option 2: Manual Import**\n1. Go to Settings → Automations & Scenes → Blueprints\n2. Click 'Import Blueprint'\n3. Enter this URL:\n   {blueprint_url}\n4. Click 'Preview Blueprint' → 'Import Blueprint'\n5. Run this wizard again\n\n**Why manual?** Your network may be blocking GitHub, or the repository is temporarily unavailable."
    }
  },
  "options": {
    "step": {
      "init": {
        "title": "Options",
        "description": "**Note:** Changing these options will NOT automatically create or delete helpers or modify the automation.\n\nTo update your setup, you'll need to:\n1. Manually create/delete helpers as needed\n2. Update the automation configuration\n\nThis is mainly for tracking which features you enabled.",
        "data": {
          "enable_dynamic_adaptation": "Dynamic Adaptation (effectiveness tracking, escalation)",
          "enable_manual_override": "Manual Override Detection",
          "enable_control_mode": "Control Mode Selection (Auto/Smart/Manual)",
          "enable_smart_mode": "Smart Mode (presence detection, timeout logic)",
          "show_dashboard_card": "🎨 Show Dashboard Card YAML (if you lost it or want to copy it again)",
          "uninstall_room_setup": "🗑️ Uninstall This Room Setup (delete all helpers, automations, and config)",
          "reinstall_room_setup": "🔄 Reinstall (Delete & Reconfigure - runs wizard again)"
        }
      },
      "confirm_uninstall": {
        "title": "⚠️ Confirm Uninstall",
        "description": "**Are you sure you want to uninstall {room_name} climate control?**\n\n**This will permanently delete:**\n• All helper entities for {room_name}\n• Both automations (main + turn-off)\n• Helpers package file\n• This integration entry\n\n**⚠️ This action CANNOT be undone!**\n\n**Note:** Your A/C units will NOT be deleted (only the climate control automation).",
        "data": {
          "confirm": "✅ Yes, uninstall everything for {room_name}"
        }
      },
      "confirm_reinstall": {
        "title": "🔄 Confirm Reinstall",
        "description": "**Are you sure you want to reinstall {room_name} climate control?**\n\n**This will:**\n1. **Delete** all current helpers and automations for {room_name}\n2. **Launch** the wizard again to reconfigure from scratch\n\n**⚠️ Your current settings will be lost!**\n\n**Tip:** Use this if you want to change sensors, A/C units, or reconfigure settings that can't be changed in options.",
        "data": {
          "confirm": "✅ Yes, delete and reconfigure {room_name}"
        }
      }
    },
    "abort": {
      "no_card_available": "No dashboard card available for this room (control mode may not be enabled).",
      "card_shown": "Dashboard card YAML has been sent as a notification! Check your notifications.",
      "uninstall_successful": "✅ **Uninstall Complete!**\n\nAll entities and automations for {room_name} have been deleted.\n\nYou can now:\n• Set up a different room via 'Add entry'\n• Reinstall this room with new settings\n• Leave it deleted",
      "uninstall_failed": "❌ **Uninstall Failed**\n\nSomething went wrong during uninstall. Check the logs for details.\n\nYou may need to manually delete:\n• Helper entities (Settings → Helpers)\n• Automations (Settings → Automations)\n• Integration entry",
      "reinstall_complete": "✅ **Reinstall Started!**\n\nOld setup has been deleted. Click 'Add entry' to run the wizard again and reconfigure {room_name}.",
      "reinstall_failed": "❌ **Reinstall Failed**\n\nUninstall failed, so wizard cannot continue. Check the logs for details.\n\nYou may need to manually delete old entities before setting up again."
    }
  }
}