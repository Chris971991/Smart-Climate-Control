# Proximity Sensor Configuration for Ultimate Climate Control
# Add this to your configuration.yaml file

# Basic proximity configuration
proximity:
  home:
    zone: home
    devices:
      - person.christopher_carruthers  # Replace with your person entities
      - person.julia_gross
    tolerance: 50  # How far the device must move before updating (meters)
    unit_of_measurement: m

# This automatically creates these sensors:
# - sensor.home_nearest_distance (distance in meters from home)
# - sensor.home_nearest_direction_of_travel (towards/away/stationary/arrived)
# - sensor.home_nearest_person (name of nearest person)

# Optional: Multiple zones for different areas
# proximity:
#   home:
#     zone: home
#     devices:
#       - person.person1
#       - person.person2
#     tolerance: 50
#     unit_of_measurement: m
#   
#   work:
#     zone: zone.work
#     devices:
#       - person.person1
#     tolerance: 100
#     unit_of_measurement: m

# Alternative: Using device trackers instead of persons
# proximity:
#   home:
#     zone: home
#     devices:
#       - device_tracker.phone1
#       - device_tracker.phone2
#     tolerance: 50
#     unit_of_measurement: m

# For better accuracy, ensure your mobile app settings:
# 1. Open Home Assistant companion app
# 2. Settings → Companion App → Manage Sensors
# 3. Enable "Location Sensors"
# 4. Set location accuracy to "High Accuracy"
# 5. Allow background location access

# Testing the sensors:
# After adding this configuration and restarting:
# 1. Go to Developer Tools → States
# 2. Search for "home_nearest"
# 3. You should see:
#    - sensor.home_nearest_distance
#    - sensor.home_nearest_direction_of_travel
#    - sensor.home_nearest_person

# Troubleshooting:
# - If sensors don't appear: Check configuration.yaml syntax
# - If distance is always unknown: Check person/device_tracker entities exist
# - If direction is always stationary: Increase tolerance value
# - For iOS: Ensure location permissions are set to "Always"
# - For Android: Disable battery optimization for HA app